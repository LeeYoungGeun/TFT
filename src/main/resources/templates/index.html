<h1>User Login Info Checking Page</h1>
<input type="text" id="user-info"></input>
<script>
    document.addEventListener('DOMContentLoaded', (event) => {
        fetch('/api/user', {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json'
            }
        })
            .then(response => {
                if (!response.ok) {
                    return response.json().then(error => { throw new Error(error.error); });
                }
                return response.json();
            })
            .then(user => {
                document.getElementById('user-info').value = 'Authenticated user: ' + user.username;
            })
            .catch(error => {
                document.getElementById('user-info').innerText = 'Error fetching user info: ' + error.message;
            });
    });
</script>